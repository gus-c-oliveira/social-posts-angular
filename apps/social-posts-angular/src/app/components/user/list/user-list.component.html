<ng-container *ngIf="loading$ | async; else loadedTemplate">
  <app-spinner></app-spinner>
</ng-container>
<ng-template #loadedTemplate>
  <ng-container *ngIf="error$ | async; else cardTemplate">
    <app-error (tryAgain)="retryLoadingUsers()">
      <span class="error__message">
        {{ 'USER_LIST.LOAD_ERROR' | translate }}
      </span>
    </app-error>
  </ng-container>
  <ng-template #cardTemplate>
    <div class="card-container">
      <app-user-card
        *ngFor="let user of userList$ | async"
        [user]="user"
        (selected)="handleUserSelection($event)"
      ></app-user-card>
    </div>
  </ng-template>
</ng-template>
