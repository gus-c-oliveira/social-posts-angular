<ng-container *ngIf="user$ | async; let user">
  <div class="banner">
    <div class="banner__picture-container">
      <img
        class="banner__picture"
        [src]="user.pictureURL"
        [alt]="'USER_PROFILE.BANNER.PICTURE_ALT' | translate"
      />
    </div>
    <span class="banner__username">
      {{ user.username }}
    </span>
  </div>

  <section class="general">
    <h2 class="section-header">
      {{ 'USER_PROFILE.GENERAL.TITLE' | translate }}
    </h2>
    <div class="general__container">
      <img
        class="general__icon"
        src="assets/img/user-profile/v-card.svg"
        [alt]="'USER_PROFILE.GENERAL.CARD_ALT' | translate"
      />
      <span class="general__value">
        {{ user.name }}
      </span>
      <img
        class="general__icon"
        src="assets/img/user-profile/phone.svg"
        [alt]="'USER_PROFILE.GENERAL.PHONE_ALT' | translate"
      />
      <span class="general__value">
        {{ user.phone }}
      </span>
      <img
        class="general__icon"
        src="assets/img/user-profile/network.svg"
        [alt]="'USER_PROFILE.GENERAL.WEBSITE_ALT' | translate"
      />
      <span class="general__value">
        {{ user.website }}
      </span>
      <img
        class="general__icon"
        src="assets/img/user-profile/mail.svg"
        [alt]="'USER_PROFILE.GENERAL.EMAIL_ALT' | translate"
      />
      <span class="general__value">
        {{ user.email }}
      </span>
    </div>
  </section>

  <section class="address">
    <h2 class="section-header section-header--address">
      {{ 'USER_PROFILE.ADDRESS.TITLE' | translate }}
    </h2>
    <span class="address__value">
      {{ user.address.street }}
    </span>
    <span class="address__value">
      {{ user.address.suite }}
    </span>
    <span class="address__value">
      {{ user.address.city }}
    </span>
    <span class="address__value">
      {{ user.address.zipcode }}
    </span>
    <span class="address__value">
      {{ user.address.geo.lat }} | {{ user.address.geo.lng }}
    </span>
  </section>

  <section class="company">
    <div class="company__container">
      <h2 class="section-header">
        {{ 'USER_PROFILE.COMPANY.TITLE' | translate }}
      </h2>
      <img
        class="company__image"
        src="assets/img/user-profile/company-illustration.jpg"
        [alt]="'USER_PROFILE.COMPANY.PICTURE_ALT' | translate"
      />
      <div class="company__info-container">
        <span class="company__info-value company__info-value--name">
          {{ user.company.name }}
        </span>
        <span class="company__info-value company__info-value--catchPhrase">
          &ldquo;{{ user.company.catchPhrase }}&rdquo;
        </span>
        <span class="company__info-value company__info-value--bs">
          {{ user.company.bs }}
        </span>
      </div>
    </div>
  </section>
</ng-container>

<ng-container *ngIf="loading$ | async; else loaded">
  <app-spinner></app-spinner>
</ng-container>

<ng-template #loaded>
  <ng-container *ngIf="error$ | async; else noError">
    <app-error (tryAgain)="retryLoadingPosts()">
      <span class="error__message">
        {{ 'USER_PROFILE.LOAD_ERROR' | translate }}
      </span>
    </app-error>
  </ng-container>

  <ng-template #noError>
    <section class="post-container" *ngIf="!!(posts$ | async).length">
      <h2 class="section-header">
        {{ 'USER_PROFILE.POSTS.TITLE' | translate }}
      </h2>
      <span
        class="post"
        *ngFor="let post of posts$ | async"
        (click)="handlePostSelection(post.id)"
      >
        {{ post.title }}
      </span>
    </section>
  </ng-template>
</ng-template>
